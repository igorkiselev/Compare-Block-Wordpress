!function(e){e.fn.comparison=function(o){o=e.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"",after_label:"",no_overlay:!0,move_slider_on_hover:!0,move_with_handle_only:!0,click_to_move:!1},o);return this.each(function(){var t=o.default_offset_pct,a=e(this),i=o.orientation,n="vertical"===i?"down":"left",s="vertical"===i?"up":"right";if(a.wrap("<div class='comparison-wrapper comparison-"+i+"'></div>"),!o.no_overlay){a.append("<div class='comparison-overlay'></div>");var c=a.find(".comparison-overlay");c.append("<div class='comparison-before-label' data-content='"+o.before_label+"'></div>"),c.append("<div class='comparison-after-label' data-content='"+o.after_label+"'></div>")}var r=a.find("img:first"),d=a.find("img:last");a.append("<div class='comparison-handle'></div>");var l=a.find(".comparison-handle");l.append("<span class='comparison-"+n+"-arrow'></span>"),l.append("<span class='comparison-"+s+"-arrow'></span>"),a.addClass("comparison-container"),r.addClass("comparison-before"),d.addClass("comparison-after");var p=function(e){var o,t,n,s=(o=e,t=r.width(),n=r.height(),{w:t+"px",h:n+"px",cw:o*t+"px",ch:o*n+"px"});l.css("vertical"===i?"top":"left","vertical"===i?s.ch:s.cw),function(e){"vertical"===i?(r.css("clip","rect(0,"+e.w+","+e.ch+",0)"),d.css("clip","rect("+e.ch+","+e.w+","+e.h+",0)")):(r.css("clip","rect(0,"+e.cw+","+e.h+",0)"),d.css("clip","rect(0,"+e.w+","+e.h+","+e.cw+")")),a.css("height",e.h)}(s)},f=function(e,o){var t,a,n;return t="vertical"===i?(o-m)/u:(e-v)/h,a=0,n=1,Math.max(a,Math.min(n,t))};e(window).on("resize.comparison",function(e){p(t)});var v=0,m=0,h=0,u=0,_=function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&"vertical"!==i?e.preventDefault():(e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&"vertical"===i&&e.preventDefault(),a.addClass("active"),v=a.offset().left,m=a.offset().top,h=r.width(),u=r.height()},w=function(e){a.hasClass("active")&&(t=f(e.pageX,e.pageY),p(t))},g=function(){a.removeClass("active")},b=o.move_with_handle_only?l:a;b.on("movestart",_),b.on("move",w),b.on("moveend",g),o.move_slider_on_hover&&(a.on("mouseenter",_),a.on("mousemove",w),a.on("mouseleave",g)),l.on("touchmove",function(e){e.preventDefault()}),a.find("img").on("mousedown",function(e){e.preventDefault()}),o.click_to_move&&a.on("click",function(e){v=a.offset().left,m=a.offset().top,h=r.width(),u=r.height(),t=f(e.pageX,e.pageY),p(t)}),e(window).trigger("resize.comparison")})}}(jQuery),function(e){e(document).ready(function(){e(".wp-block-jbn-compare").each(function(o){e(this).comparison({default_offset_pct:.5})})})}(jQuery);